## Инструмент визуализации графа зависимостей пакетов

Полная реализация TASK-2: инструмент визуализации графа зависимостей для пакетов Ubuntu apt.

### ✅ Все 5 этапов выполнены

- **Этап 1**: JSON конфигурация с полной валидацией
- **Этап 2**: Извлечение прямых зависимостей из apt репозиториев
- **Этап 3**: Построение графа на основе BFS с рекурсией, обработка циклов и фильтрация
- **Этап 4**: Вычисление порядка загрузки зависимостей
- **Этап 5**: Генерация диаграмм Mermaid и ASCII-дерева

### Быстрый старт

```bash
# Запуск с тестовым репозиторием
python3 dep_visualizer.py конфиг_тест.json

# Запуск с циклическими зависимостями
python3 dep_visualizer.py конфиг_циклы.json

# Запуск с фильтрацией пакетов
python3 dep_visualizer.py конфиг_фильтр.json
```

### Основные возможности

- ✅ Без использования готовых менеджеров пакетов и библиотек
- ✅ Полная обработка ошибок и валидация
- ✅ Обнаружение и обработка циклических зависимостей
- ✅ Фильтрация пакетов по подстроке
- ✅ Несколько форматов вывода (Mermaid, ASCII-дерево)
- ✅ Тестовый режим с простым форматом файлов
- ✅ Поддержка реальных репозиториев Ubuntu apt

### Формат конфигурации

```json
{
  "имя_пакета": "A",
  "адрес_репозитория": "test_repository.txt",
  "тестовый_режим": true,
  "имя_выходного_файла": "граф.svg",
  "режим_ascii_дерева": true,
  "подстрока_фильтра": ""
}
```

### Формат тестового репозитория

```
# Комментарии начинаются с #
ПАКЕТ: ЗАВ1, ЗАВ2, ЗАВ3
ДРУГОЙ_ПАКЕТ: ЗАВ4
ЛИСТОВОЙ_ПАКЕТ:
```

Пример:
```
A: B, C
B: D, E
C: D, F
D: G
E: G
F: G, H
G:
H:
```

### Пример работы

```bash
$ python3 dep_visualizer.py конфиг_тест.json

============================================================
ПАРАМЕТРЫ КОНФИГУРАЦИИ
============================================================
имя_пакета: A
адрес_репозитория: test_repository.txt
тестовый_режим: True
...

============================================================
ЭТАП 2: ИЗВЛЕЧЕНИЕ ПРЯМЫХ ЗАВИСИМОСТЕЙ
============================================================

Прямые зависимости (2):
  1. B
  2. C

============================================================
ЭТАП 3: ПОСТРОЕНИЕ ГРАФА ЗАВИСИМОСТЕЙ
============================================================

Граф зависимостей:
A:
  -> B
  -> C
B:
  -> D
  -> E
...

============================================================
ВСЕ ЭТАПЫ УСПЕШНО ЗАВЕРШЕНЫ!
============================================================
```

### Структура проекта

```
konfigura-claude/
├── dep_visualizer.py              # Основной скрипт (~500 строк)
├── конфиг_тест.json              # Простой пример
├── конфиг_циклы.json             # Пример с циклами
├── конфиг_фильтр.json            # Пример с фильтрацией
├── test_repository.txt            # Тестовый репозиторий
├── test_repository_cyclic.txt     # С циклическими зависимостями
├── test_repository_complex.txt    # Сложный граф
├── README.md                      # Этот файл
├── ИНСТРУКЦИЯ.md                  # Краткая инструкция
└── TASK-2.md                      # Описание задания
```

### Документация

- **[ИНСТРУКЦИЯ.md](ИНСТРУКЦИЯ.md)** - Краткая инструкция по использованию
- **[TASK-2.md](TASK-2.md)** - Исходное задание

### Упрощения в коде

Код переписан для простоты и ясности:

- Убраны абстрактные базовые классы
- Используются простые функции вместо классов где возможно
- Весь код на русском языке с кириллическими именами переменных
- Прямолинейная логика без излишних абстракций
- ~500 строк кода вместо ~850

### Алгоритмы

**BFS с рекурсией** (Этап 3):
- Обрабатывает пакеты уровень за уровнем
- Обнаруживает циклы через отслеживание пакетов в обработке
- Поддерживает фильтрацию по подстроке

**Топологическая сортировка** (Этап 4):
- Алгоритм Кана для вычисления порядка загрузки
- Зависимости загружаются первыми
- Корректная обработка циклов

### Требования

- Python 3.6 или выше
- Только стандартная библиотека
- Опционально: mermaid-cli для SVG (`npm install -g @mermaid-js/mermaid-cli`)

### Тестирование

```bash
# Простой тест
python3 dep_visualizer.py конфиг_тест.json

# Циклические зависимости
python3 dep_visualizer.py конфиг_циклы.json

# Фильтрация пакетов
python3 dep_visualizer.py конфиг_фильтр.json
```
