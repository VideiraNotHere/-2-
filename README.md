## Инструмент визуализации графа зависимостей пакетов. Алексеев Ярослав ИКБО-11-24, 2 Вариант

### Быстрый старт

```bash
# Запуск с тестовым репозиторием
python3 dep_visualizer.py конфиг_тест.json

# Запуск с циклическими зависимостями
python3 dep_visualizer.py конфиг_циклы.json

# Запуск с фильтрацией пакетов
python3 dep_visualizer.py конфиг_фильтр.json
```

### Основные возможности

- ✅ Без использования готовых менеджеров пакетов и библиотек
- ✅ Полная обработка ошибок и валидация
- ✅ Обнаружение и обработка циклических зависимостей
- ✅ Фильтрация пакетов по подстроке
- ✅ Несколько форматов вывода (Mermaid, ASCII-дерево)
- ✅ Тестовый режим с простым форматом файлов
- ✅ Поддержка реальных репозиториев Ubuntu apt

### Формат конфигурации

```json
{
  "имя_пакета": "A",
  "адрес_репозитория": "test_repository.txt",
  "тестовый_режим": true,
  "имя_выходного_файла": "граф.svg",
  "режим_ascii_дерева": true,
  "подстрока_фильтра": ""
}
```

### Формат тестового репозитория

```
# Комментарии начинаются с #
ПАКЕТ: ЗАВ1, ЗАВ2, ЗАВ3
ДРУГОЙ_ПАКЕТ: ЗАВ4
ЛИСТОВОЙ_ПАКЕТ:
```

Пример:
```
A: B, C
B: D, E
C: D, F
D: G
E: G
F: G, H
G:
H:
```

### Пример работы

```bash
$ python3 dep_visualizer.py конфиг_тест.json

============================================================
ПАРАМЕТРЫ КОНФИГУРАЦИИ
============================================================
имя_пакета: A
адрес_репозитория: test_repository.txt
тестовый_режим: True
...

============================================================
ЭТАП 2: ИЗВЛЕЧЕНИЕ ПРЯМЫХ ЗАВИСИМОСТЕЙ
============================================================

Прямые зависимости (2):
  1. B
  2. C

============================================================
ЭТАП 3: ПОСТРОЕНИЕ ГРАФА ЗАВИСИМОСТЕЙ
============================================================

Граф зависимостей:
A:
  -> B
  -> C
B:
  -> D
  -> E
...

============================================================
ВСЕ ЭТАПЫ УСПЕШНО ЗАВЕРШЕНЫ!
============================================================
```
### Алгоритмы

**BFS с рекурсией** (Этап 3):
- Обрабатывает пакеты уровень за уровнем
- Обнаруживает циклы через отслеживание пакетов в обработке
- Поддерживает фильтрацию по подстроке

**Топологическая сортировка** (Этап 4):
- Алгоритм Кана для вычисления порядка загрузки
- Зависимости загружаются первыми
- Корректная обработка циклов

### Требования

- Python 3.6 или выше
- Только стандартная библиотека
- Опционально: mermaid-cli для SVG (`npm install -g @mermaid-js/mermaid-cli`)

### Тестирование

```bash
# Простой тест
python3 dep_visualizer.py конфиг_тест.json

# Циклические зависимости
python3 dep_visualizer.py конфиг_циклы.json

# Фильтрация пакетов
python3 dep_visualizer.py конфиг_фильтр.json
```

### Обработка ошибок

- Отсутствующие или неверные конфигурационные файлы
- Неверный синтаксис JSON
- Отсутствующие обязательные параметры
- Пустые или неверные значения параметров
- Неверные типы параметров
- Пакет не найден в репозитории
- Ошибки сети при загрузке apt репозиториев

---
